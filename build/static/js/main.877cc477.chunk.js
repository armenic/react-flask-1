(this["webpackJsonpreact-flask-1"]=this["webpackJsonpreact-flask-1"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),a=n(8),s=n.n(a),i=(n(14),n(3)),o=n.p+"static/media/logo.103b5fa1.svg",u=(n(15),n(2)),j=function(){var e=Object(u.b)().loginWithRedirect;return Object(c.jsx)("button",{onClick:function(){return e()},children:"Log In"})},l=function(){var e=Object(u.b)().logout;return Object(c.jsx)("button",{onClick:function(){return e({returnTo:window.location.origin})},children:"Log Out"})},h=n(4),b=n.n(h),d=n(6),f=function(){var e=Object(u.b)(),t=e.user,n=e.isAuthenticated,a=e.getAccessTokenSilently,s=Object(r.useState)(null),o=Object(i.a)(s,2),j=o[0],l=o[1];return Object(r.useEffect)((function(){(function(){var e=Object(d.a)(b.a.mark((function e(){var n,c,r,s,i,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="english-apps.us.auth0.com",e.prev=1,e.next=4,a({audience:"https://".concat(n,"/api/v2/"),scope:"read:current_user"});case 4:return c=e.sent,r="https://".concat(n,"/api/v2/users/").concat(t.sub),e.next=8,fetch(r,{headers:{Authorization:"Bearer ".concat(c)}});case 8:return s=e.sent,e.next=11,s.json();case 11:i=e.sent,o=i.user_metadata,l(o),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}})()()}),[a,t]),n&&Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{src:t.picture,alt:t.name,width:100}),Object(c.jsx)("h2",{children:t.name}),Object(c.jsx)("p",{children:t.email}),Object(c.jsx)("h3",{children:"User Metadata from secure auth0 API"}),j?Object(c.jsx)("pre",{children:JSON.stringify(j,null,2)}):"No user metadata defined"]})},p=function(){var e=Object(u.b)(),t=e.isAuthenticated,n=e.getAccessTokenSilently,a=Object(r.useState)(""),s=Object(i.a)(a,2),o=s[0],j=s[1];return Object(r.useEffect)((function(){(function(){var e=Object(d.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n();case 3:t=e.sent,fetch("/api/zensec",{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){j(e.zensec)})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[n]),t&&Object(c.jsxs)("p",{children:["Random Python Zen from secure API: ",o]})};var O=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){fetch("/api/zen").then((function(e){return e.json()})).then((function(e){a(e.zen)}))}),[]),Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)("header",{className:"App-header",children:[Object(c.jsx)("img",{src:o,className:"App-logo",alt:"logo"}),Object(c.jsx)(j,{}),Object(c.jsx)(l,{}),Object(c.jsxs)("p",{children:["Edit ",Object(c.jsx)("code",{children:"src/App.js"})," and save to reload."]}),Object(c.jsx)("p",{children:"v 3.0 with auth"}),Object(c.jsx)(f,{}),Object(c.jsx)("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer",children:"Learn React"}),Object(c.jsxs)("p",{children:["Random Python Zen from Public API: ",n,"."]}),Object(c.jsx)(p,{})]})})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(c.jsx)(u.a,{domain:"english-apps.us.auth0.com",clientId:"aHGX8oWUwcKnSf1vHjVNWfvkrEfhovcT",redirectUri:window.location.origin,audience:"https//englishrealm.ca",scope:"read:messages",children:Object(c.jsx)(O,{})}),document.getElementById("root")),g()}},[[24,1,2]]]);
//# sourceMappingURL=main.877cc477.chunk.js.map